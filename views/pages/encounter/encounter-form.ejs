<%- include('../../fragments/header.ejs') %>

<main>
    <script type="application/javascript" src="../js/validationCommon.js"></script>
    <script type="application/javascript" src="../js/validationEncounterForm.js"></script>
    <h2><%= pageTitle %></h2>

    <form class="form" method="post" action="<%= formAction %>" novalidate onsubmit="return validateForm();">

        <input type="hidden" name="id" value="<%= enc.id %>">

        <label for="Car_registration">Nr. rej.:<abbr title="required" aria-label="required">*</abbr></label>
        <input type="text" name="Car_registration" id="Car_registration" value="<%= enc.Car_registration %>"
                <%= (formMode == 'showDetails') ? 'disabled' : '' %>/>
        <span id="errorRegistration" class="errors-text"></span>

        <label for="Camera_id">Kamera:</label>
        <input type="text" name="Camera_id" id="Camera_id" value="<%= enc.Camera_id %>"
                <%= (formMode == 'showDetails') ? 'disabled' : '' %>/>
        <span></span>

        <label for="time">Czas<abbr title="required" aria-label="required">*</abbr></label>
        <input type="text" name="time" id="time" value="<%= enc.time %>"
                <%= (formMode == 'showDetails') ? 'disabled' : '' %>/>
        <span id="errorTime" class="errors-text"></span>

        <label for="authorized">Autoryzowano</label>
        <input type="text" name="authorized" id="authorized" value="<%= enc.authorized %>"
                <%= (formMode == 'showDetails') ? 'disabled' : '' %>/>
        <span></span>

        <label for="direction">Kierunek</label>
        <input type="text" name="direction" id="direction" value="<%= enc.direction %>"
                <%= (formMode == 'showDetails') ? 'disabled' : '' %>/>
        <span></span>

        <% if (formMode == 'showDetails') { %>
            <div class="section-buttons">
                <a href="/encounter/edit/<%= enc.id %>" class="button-edit">Edytuj</a>
            </div>
        <% } %>

        <div class="form-buttons">
            <p id="errorsSummary" class="errors-text"></p>
            <% if (formMode != 'showDetails') { %>
            <input class="form-button-submit" type="submit" value="<%= btnLabel %>"/>
            <a class="form-button-cancel" href="/encounter">Anuluj</a>
            <% } else { %>
                <a class="form-button-cancel" href="/encounter">Powr√≥t</a>
            <% } %>
        </div>


    </form>
</main>

<%- include('../../fragments/footer.ejs') %>